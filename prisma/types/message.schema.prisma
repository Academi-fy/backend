model Message {
  id        String   @id @default(uuid()) @db.Uuid
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  author      User      @relation(fields: [authorId], references: [id])
  authorId    String @db.Uuid
  chat        Chat      @relation(fields: [chatId], references: [id])
  chatId      String @db.Uuid
  content     Json[]
  editHistory Json[]
  reactions   Json[]
  replies     Message[] @relation("ReplyTo")
  replyTo     Message?  @relation("ReplyTo", fields: [replyToId], references: [id])
  replyToId   String? @db.Uuid

  @@map("messages")
}